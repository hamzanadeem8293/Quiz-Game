<!DOCTYPE html>
<html>
<head>
    <title>Quiz</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="light">

<button class="theme-toggle" onclick="toggleTheme()">üåô Toggle Theme</button>

<div class="quiz-container">
    <h2>Question {{ qno }}</h2>

    <div class="top-bar">
        <span>üë§ {{ session['username'] }}</span>
        <span>‚è± Time Left: <span id="timer">10</span>s</span>
        <span>‚≠ê Score: {{ session['score'] }}</span>
    </div>

    <p>{{ q.question }}</p>

    <form method="post" id="quizForm">
        {% for option in q.options %}
        <label>
            <input type="radio" name="option" value="{{ option }}" required>
            {{ option }}
        </label>
        {% endfor %}

        <button type="submit">Next</button>
    </form>
</div>

<script>
let timeLeft = 10;
const timer = document.getElementById("timer");
const form = document.getElementById("quizForm");

const countdown = setInterval(() => {
    timeLeft--;
    timer.innerText = timeLeft;

    if (timeLeft <= 0) {
        clearInterval(countdown);
        form.submit(); // auto-submit
    }
}, 1000);

function toggleTheme() {
    document.body.classList.toggle("dark");
}
</script>

</body>
</html>
